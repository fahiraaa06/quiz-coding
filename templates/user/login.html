{% extends "user/base.html" %}
{% block content %}
<div class="login-wrapper">
  <div class="login-card">
    <div class="logo-section">
      <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" class="logo-img">
      <h1>Post Test Bootcamp</h1>
      <p class="subtitle">Silakan masuk menggunakan akun terdaftar.</p>
    </div>

    {% if post_mode %}
    <div class="post-window-info">
      <small>
        Jendela post-test: {{ post_start.strftime("%d %B %Y %H:%M") }} WIB
        &ndash; {{ post_end.strftime("%d %B %Y %H:%M") }} WIB
      </small>
    </div>
    {% endif %}

    <form method="post" id="loginForm" autocomplete="on">
      <div class="form-group">
        <label for="uid">{{ identity_label|capitalize }}</label>
        <div class="input-wrapper">
         <input id="uid" name="uid" type="text" placeholder="email@example.com" required>
        </div>
      </div>

      <div class="form-group">
        <label for="pwd">Password</label>
        <div class="input-wrapper password-wrapper">
          <input id="pwd" name="pwd" type="password" placeholder="Masukkan password"
                 required autocomplete="current-password">
          <span class="toggle-password" onclick="togglePassword()">
            <i class="fa-solid fa-eye"></i>
          </span>
        </div>
      </div>

      <button type="submit" class="login-btn">Masuk</button>
    </form>
  </div>
</div>

<!-- âœ… Script toggle eye -->
<script>
function togglePassword() {
  const pwdField = document.getElementById("pwd");
  const toggleIcon = document.querySelector(".toggle-password i");

  if (pwdField.type === "password") {
    pwdField.type = "text";
    toggleIcon.classList.remove("fa-eye");
    toggleIcon.classList.add("fa-eye-slash");
  } else {
    pwdField.type = "password";
    toggleIcon.classList.remove("fa-eye-slash");
    toggleIcon.classList.add("fa-eye");
  }
}
</script>
{% endblock %}
