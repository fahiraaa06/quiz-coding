{% extends "base.html" %}
{% block title %}Admin | Bootcamp Post-Test{% endblock %}
{% block content %}

{% if not is_admin %}
<div class="card p-3">
  <h4 class="mb-3">🔐 Admin Panel</h4>
  <form method="post" id="admin-login-form">
    <div class="mb-3">
      <label class="form-label" for="admin_pwd">Admin password</label>
      <input type="password" class="form-control" id="admin_pwd" name="pwd" required>
    </div>
    <button type="submit" class="btn btn-warning" id="admin_login_btn">Login Admin</button>
  </form>
</div>

{% else %}
<div class="card p-3 mb-3">
  <h4 class="mb-3">🔧 Tools</h4>

  <!-- ACTIONS -->
  <form method="post" enctype="multipart/form-data" id="admin-tools-form" class="d-grid gap-3">

    <div class="row g-2">
      <div class="col-md-3">
        <button type="submit" class="btn btn-outline-light w-100" name="reset_attempts" id="btn_reset_attempts">
          Reset attempts.csv
        </button>
      </div>
      <div class="col-md-3">
        <button type="submit" class="btn btn-outline-light w-100" name="reset_results" id="btn_reset_results">
          Reset results.csv
        </button>
      </div>
      <div class="col-md-6 d-flex align-items-center gap-2">
        <input type="file" class="form-control" name="questions_file" id="questions_file" accept=".csv">
        <button type="submit" class="btn btn-primary" name="upload_questions" id="btn_upload_qs">
          Upload questions.csv
        </button>
      </div>
    </div>

    <div class="row g-2">
      <div class="col-md-6">
        <label for="reset_uid"></label><input class="form-control" name="r_uid" id="reset_uid" placeholder="email/user untuk reset deadline">
      </div>
      <div class="col-md-3">
        <label for="reset_section"></label><select class="form-select" name="r_section" id="reset_section">
          <option value="quiz">quiz</option>
          <option value="code">code</option>
        </select>
      </div>
      <div class="col-md-3">
        <button type="submit" class="btn btn-outline-info w-100" name="reset_deadline" id="btn_reset_deadline">
          Reset Deadline
        </button>
      </div>
    </div>

  </form>
</div>
{% endif %}

{% endblock %}
